<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>Deck of Cards</title>
  <meta name="description" content="Deck of Cards">
  <meta name="author" content="JakubKozlowski@hotmail.com">

  <script src="js/Card.js"></script>
  <script src="js/CardStack.js"></script>
  <script src="js/CardManager.js"></script>
  <script src="js/GameManager.js"></script>
  <script src="js/Graphics.js"></script>
  <script src="js/Audio.js"></script>
  <script src="js/VisualizedDeck.js"></script>

  <link rel="stylesheet" href="css/cards.css?v=1.212">

	<script>
		//sandbox - testing scripts


  
    let buttonsActive= true;

    function timeOutButtons(){

      let active = buttonsActive;

      if(buttonsActive){
        buttonsActive = false;
        hideButtons();
        setTimeout(()=>{
          buttonsActive = true;
          showButtons();
        }, 500);
      }
      return active;
    }

    function showButtons(){
       let elm = document.getElementById("buttons");
       elm.style.opacity = 1;
    }


    function hideButtons(){
       let elm = document.getElementById("buttons");
       elm.style.opacity = 0.3;
    }

		let game = new GameManager();
		game.initialize();

    

    function dealHandler(){
      if(timeOutButtons())
        game.dealHand();      
    }

    function hitHandler(){
      if(timeOutButtons())
        game.hit();      
    }

    function standHandler(){
      if(timeOutButtons())
        game.stand();
    }

    document.addEventListener("keydown", keyDownTextField, false);

    function keyDownTextField(e) {
      var keyCode = e.keyCode;
      
      if(keyCode == 37){
        dealHandler();
      }
      if(keyCode == 40){
        hitHandler();
      }
      if(keyCode == 39){
        standHandler();
      }
    }


	</script>
</head>

<body>

  <h1 class="title">BLACKJACK</h1>


	<div class="cardplaceholder"></div>

  <div class="buttons" id="buttons">
    <button onclick="dealHandler();" class="button">Deal</button>
    <button onclick="hitHandler();" class="button">Hit</button>
    <button onclick="standHandler();" class="button">Stand</button>
  </div>
  

</body>
</html>